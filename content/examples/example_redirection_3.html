include "console.iol"

interface SubServiceInterface {
RequestResponse:
------calcSub
}

interface SumServiceInterface {
RequestResponse:
------calcSum
}

outputPort Sum {
Location: "socket://localhost:8000/!/Sum"
Protocol: sodep
Interfaces: SumServiceInterface
}

outputPort Sub {
Location: "socket://localhost:8000/!/Sub"
Protocol: sodep
Interfaces: SubServiceInterface
}

main
{
--registerForInput@Console()();
--println@Console( "Insert a number" )();
--in( request.x );
--println@Console( "Insert another number" )();
--in( request.y );
--println@Console("Type add for performing sum, subtraction otherwise:")();
--in( answer );
--if ( answer=="add" ) {
----calcSum@Sum( request )( response )
--} else {
----calcSub@Sub( request )( response )
--};
--println@Console( response )()
}