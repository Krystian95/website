<h2 id="invoking-web-services">Invoking web services</h2>
<p>Jolie can be used to invoke web services.</p>
<p>Let us exemplify it by invoking the Global Weather Service, provided by <a href="http://www.webservicex.net">www.webservicex.net</a>, whose <a href="http://www.w3.org/TR/wsdl">WSDL</a> document can be accessed at the URL <a href="http://www.webservicex.net/globalweather.asmx?WSDL">http://www.webservicex.net/globalweather.asmx?WSDL</a>.</p>
<h2 id="request-the-service-interface-from-the-wsdl">Request the service interface from the WSDL</h2>
<p>To invoke a web service's operation, we need to create a compatible Jolie interface. To do that we exploit the tool <a href="web_services/wsdl2jolie.html">wsdl2jolie</a>, which is part of the Jolie trunk installation.</p>
<p>We run the command:</p>
<p><code>wsdl2jolie http://www.webservicex.net/globalweather.asmx?WSDL &gt; myWS_jolieDocument.iol</code></p>
<p>that extracts from the WSDL a compatible Jolie interface to invoke the web service. The newly created interface is stored in myWS_jolieDocument.iol file.</p>
<p>Let us open the interface file and delete its first line, which is the comment <code>Retrieving document at 'http://www.webservicex.net/globalweather.asmx?WSDL'.</code>.</p>
<h2 id="call-the-web-service">Call the web service</h2>
<p>Once we stored the Jolie interface of the web service, we can invoke its operations by including its interface definition file in a Jolie program:</p>
<div class="code" src="web_services_2.ol"></div>

<p>Since the web service returns a message formed by a single tag <code>&lt;GetWeatherResult&gt;</code>, which contains an XML document as a string, we have to exploit the <code>xml_utils.iol</code> library to transform the string into a Jolie value by means of the operation <code>xmlToValue</code>.</p>
<h2 id="exposing-web-services">Exposing web services</h2>
<p>Jolie services can be exposed as web services as well.</p>
<p>Let us consider the following Jolie service which returns the address of a person identified by his name and his surname:</p>
<div class="code" src="web_services_3.ol"></div>

<p>To expose the port <code>MyServiceSOAPPort</code> as a web service, we exploit the tool <a href="web_services/jolie2wsdl.html">jolie2wsdl</a> that generates the corresponding WSDL document to be attached to the file:</p>
<p><code>jolie2wsdl -i /opt/jolie/include service.ol MyServiceSOAPPort MyWsdlDocument.wsdl</code></p>
<p>Once generated the WSDL file is to be attached within the declaration of the inputPort:</p>
<div class="code" src="web_services_4.ol"></div>

