<h2 id="sodep-protocol">SODEP Protocol</h2>
<p>SODEP (Simple Operation Data Exchange Protocol) is a binary protocol created and developed for Jolie, in order to provide a simple, safe and efficient protocol for service communications.</p>
<hr />
<h3 id="sodep-data">SODEP data</h3>
<p>SODEP maps three Jolie internal data structures: <code>CommMessage?</code>, <code>FaultException?</code>, and <code>Value</code>.</p>
<p>Basically, a SODEP message is the encoding of a <code>CommMessage?</code> object.</p>
<p>For the sake of clarity, we show (in Java pseudo-code) how these structures are composed and the meaning of their content before giving the formal specifications of the protocol.</p>
<h4 id="commmessage">CommMessage</h4>
<ul>
<li><code>long</code> <code>id</code>: a unique identifier for this message, generated from the requester;</li>
<li><code>String</code> <code>resourcePath</code>: the resource path this message should be delivered to. If the message is meant to be received from the service you are communicating with, the resource path should be &quot;/&quot;;</li>
<li><code>String</code> <code>operationName</code>: the operation name this message refers to;</li>
<li><code>FaultException?</code> <code>fault</code>: the fault exception this message contains, if any;</li>
<li><code>Value</code> <code>value</code>: the data this message contains, if any.</li>
</ul>
<h4 id="faultexception">FaultException</h4>
<ul>
<li><code>String</code> <code>faultName</code>: the fault name this FaultException? refers to;</li>
<li><code>Value</code> <code>value</code>: the data regarding this fault, if any.</li>
</ul>
<h4 id="value">Value</h4>
<ul>
<li><code>Object</code> <code>content</code>: the content of this value. Can be a String, an Integer, or a Double;</li>
<li><code>Map&lt; String, Value[] &gt;</code> ``: the children vectors of this value, mapped by name.</li>
</ul>
<hr />
<h3 id="formal-specification">Formal specification</h3>
<p>We represent the protocol encoding by using a BNF-like notation. Raw data types are supplied with additional information in round parentheses, in order to indicate what they represent.</p>
<ul>
<li><code>true</code> and <code>false</code> are the respective boolean values;</li>
<li><code>null</code> is the Java <em>null</em> value;</li>
<li><code>int</code> is a 32-bit integer value;</li>
<li><code>long</code> is a 64-bit integer value;</li>
<li><code>double</code> is a 64-bit double value;</li>
<li><code>String</code> elements are to be intended as standard UTF-8 encoded strings;</li>
<li><code>*</code> is to be intended as the Kleene star (zero or more repetition);</li>
<li>raw numbers annotated with <code>byte</code> are to be considered single bytes;</li>
<li>the special keyword epsilon means <em>nothing</em>.</li>
</ul>
<h2 id="sodep-parameters">SODEP Parameters</h2>
<table>
<col width="19%" />
<col width="19%" />
<col width="38%" />
<col width="23%" />
<tbody>
<tr class="odd">
<td align="left">Par. name</td>
<td align="left">Par. type</td>
<td align="left">Supported values</td>
<td align="left">Default value</td>
</tr>
<tr class="even">
<td align="left">charset</td>
<td align="left">string</td>
<td align="left">US-ASCII, ISO-8859-1, UTF-8, UTF-16BE, UTF-16LE, UTF-16</td>
<td align="left">UTF-8</td>
</tr>
<tr class="odd">
<td align="left">compression</td>
<td align="left">string</td>
<td align="left">gzip</td>
<td align="left">gzip</td>
</tr>
</tbody>
</table>
