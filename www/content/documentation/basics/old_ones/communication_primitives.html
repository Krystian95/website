
<h1>Communication primitives</h1>

<p>Communication primitives define the kind of the operations mentioned in <a href="language_ports">Ports</a> and <a href="language_interfaces">Interfaces</a> sections. Communications, based on inputs, outputs and service locations are the "primitives" for composing services. These operations (communication primitives) are four and can be divided into two types: input operations and output operations.</p>

<ul>
  <li>Input Operations</li>
  <ul><li>One-Way;</li>
  <li>Request-Response.</li>
  </ul>
  <li>Output Operations</li>  
  <ul><li>Notification;</li>
  <li>Solicit-Response.</li>
  </ul>
</ul>

<hr>

<h2>One-Way</h2>

<div class="syntax" src="syntax_communication_primitives_1.ol"></div>
<div id="syntax" src="syntax_communication_primitives_1"></div>
<p>One-Way operations have the only task to wait for the arrival of an incoming message.</p>

<hr>

<h2>Request-Response</h2>
<div id="syntax" src="syntax_communication_primitives_2"></div>
<p>Request-Response operations are used to receive messages and to send back a response to the invoker.</p>

<hr>

<h2>Notification</h2>

<div id="syntax" src="syntax_communication_primitives_3"></div>
<p>Complementary to the One-Way operation, it sends a message whose content is stored in <code>send_var</code> at the outputPort <code>op_name</code>.</p> 
<p>It is worth noting that the outputPort must be defined before sending a message to it.</p>
<hr>

<h2>Solicit-Response</h2>

<div id="syntax" src="syntax_communication_primitives_4"></div>
<p>Complementary to the Request-Response operation, a solicit-response sends a message whose contents is defined in <code>send_var</code> to the outputPort <code>op_name</code>. Then it waits for the response
from the invoked service. When the response is received it stores the message
in <code>recv_var</code>.

<hr>

<h2>Example</h2>

<div id="download">&gt; <a href="./content/code/code_communication_primitives.zip">Download code</a></div>
<p>As an example we consider here two services where the former sends a message to the latter by exploiting the operation <code>printMessage</code>. When the message exchanged is performed the sender prints the reply message and the receiver prints the received message.</p>
<p>Then receiver code follows:</p>
<div class="code" src="example_communication_primitives_1.ol"></div>
<p>The sender is:</p>
<div class="code" src="example_communication_primitives_2.ol"></div>
<p>Note: the two services must be executed in two different consoles, paying attention to run the receiver before and the sender.</p>