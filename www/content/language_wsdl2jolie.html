<div class="grid_15 prefix_1" id="language-content">
<a name="language_top"/>
<h1>wsdl2jolie</h1>
<ul>
  <li><a href="#language_usage">Usage</a> </li>
  <li><a href="#language_generated_document">Generated document</a> </li>
  <li><a href="#language_soap_outputport">SOAP outputPort</a> </li>
  <li><a href="#language_not_supported_features">Not supported features</a> </li>
</ul>
<br>
This tool allows for the creation of a Jolie interface starting from a <a href="http://www.w3.org/TR/wsdl">WSDL</a> document.
wsdl2jolie is released within the distribution of Jolie.
<hr>
<a name="language_usage"/>
<h2>Usage</h2>
The usage is very simple, the syntax follows:
<div id="syntax" src="syntax_wsdl2jolie"/>
where <code>wsdl_ref</code> could be a URL or a file path (in case of local usage).
As output, the tool will return all the the jolie service declarations needed for the web service invocation
converted into the Jolie language. As an example let us create the jolie service interface of the
the Global Weather Web Service provided by 
<a href="http://www.webservicex.net">www.webservicex.net</a> whose WSDL document 
can be accessed <a href="//www.webservicex.net/globalweather.asmx?WSDL">here</a>.
<div id="example">wsdl2jolie //www.webservicex.net/globalweather.asmx?WSDL</div>
As a result we obtain:
<div id="example">
Retrieving document at '//www.webservicex.net/globalweather.asmx?WSDL'.
type NOTATIONType:any

type GetWeather:void {
	.CountryName?:string
	.CityName?:string
}

type GetCitiesByCountry:void {
	.CountryName?:string
}

type GetWeatherResponse:void {
	.GetWeatherResult?:string
}

type GetCitiesByCountryResponse:void {
	.GetCitiesByCountryResult?:string
}

type GetWeatherHttpPostIn:void {
	.CountryName:string
	.CityName:string
}

type GetWeatherHttpGetIn:void {
	.CountryName:string
	.CityName:string
}

interface GlobalWeatherHttpPost {
RequestResponse:
	GetWeather(GetWeatherHttpPostIn)(string),
	GetCitiesByCountry(string)(string)
}

interface GlobalWeatherSoap {
RequestResponse:
	GetWeather(GetWeather)(GetWeatherResponse),
	GetCitiesByCountry(GetCitiesByCountry)(GetCitiesByCountryResponse)
}

interface GlobalWeatherHttpGet {
RequestResponse:
	GetWeather(GetWeatherHttpGetIn)(string),
	GetCitiesByCountry(string)(string)
}

outputPort GlobalWeatherHttpPost {
Location: "socket://www.webservicex.net:80/globalweather.asmx"
Protocol: http
Interfaces: GlobalWeatherHttpPost
}

outputPort GlobalWeatherSoap12 {
Location: "socket://localhost:80/"
Protocol: soap
Interfaces: GlobalWeatherSoap
}

outputPort GlobalWeatherSoap {
Location: "socket://www.webservicex.net:80/globalweather.asmx"
Protocol: soap {
	.wsdl = "http://www.webservicex.net/globalweather.asmx?WSDL";
	.wsdl.port = "GlobalWeatherSoap"
}
Interfaces: GlobalWeatherSoap
}

outputPort GlobalWeatherHttpGet {
Location: "socket://www.webservicex.net:80/globalweather.asmx"
Protocol: http
Interfaces: GlobalWeatherHttpGet
}
</div>
In order to save the generated file into a <code>.iol</code> file you can simply redirect
the standard output of the command into a new file as in the following example:
<div id="example">wsdl2jolie http://www.webservicex.net/globalweather.asmx?WSDL > myWebServiceJolieDocument.iol</div>
It is worth noting that the first row of the output file must be deleted because it is just an output
of the tool and it is not parsed by the Jolie interpreter. In the example above the row to be deleted is:
<div id="example">
Retrieving document at 'http://www.webservicex.net/globalweather.asmx?WSDL'.
</div>

<a name="language_generated_document"/>
<h2>Generated document</h2>
The generated document will contain:
<ul>
  <li>the types contained into (or referred by) the WSDL</li>
  <li>the Jolie interface which contains all the operation declarations</li>
  <li>the Jolie outputPort ports needed for the Web Service invocation</li>
</ul>
<br>
<b>Mapping</b>
<br>
In the following table we report the mapping between WSDL elements and Jolie elements:
<table>
  <tr>
    <td><b>WSDL</b></td><td><b>Jolie<b></td>
  <tr>
  <tr>
    <td><code>&lt;types&gt;</code></td><td><code>type</code></td>
  </tr>
  <tr>
    <td><code>&lt;messages&gt;</code></td><td><code>type</code></td>
  </tr>
  <tr>
    <td><code>&lt;portType&gt;</code></td><td><code>interface</code></td>
  </tr>
  <tr>
    <td><code>&lt;binding&gt;</code></td><td><code>outputPort:Protocol</code></td>
  </tr>
  <tr>
    <td><code>&lt;service:port&gt;</code></td><td><code>outputPort</code></td>
  </tr>
</table>

<a name="language_soap_outputport"/>
<h2>SOAP outputPort</h2>
SOAP outputPorts will be generated with two parameters:
<ul>
  <li><code>wsdl</code>: sets the location of the WSDL document</li>
  <li><code>wsdl.port</code>: sets the WSDL port related to the current outputPort</li>
</ul>
Another parameter can be added in order to display debug messages:
<ul>
  <li><code>debug</code>: if set to 1 all the SOAP messages of the current outputPort are displayed on the standard output</li>
</ul>
It is worth noting that the Jolie interpreter requires these two parameters because it needs
to format the messages to and from the Web Service in conformance with the WSDL document.

<a name="language_not_supported_features"/>
<h2>Not supported features</h2>
So far not all the WSDL and SOAP features are supported
and you can find problems when you try to use them. 
In the following you find a list of them.
<ul>
  <li>SOAP 1.2 is not supported</li>
  <li>XML Schema Extended types are not supported</li>
  <li>HTTP GET and POST are not fully supported as Web Services calls</li>
</ul>
</div>