<div class="grid_15 prefix_1" id="language-content">

<h1>HTTP GET/POST Requests</h1>
<ul>
<li><a href="#language_web_get_receive">Receiving GET requests</a></li>
<li><a href="#language_web_get_send">Sending GET requests</a></li>
<li><a href="#language_web_post_receive">Receiving POST requests</a></li>
<li><a href="#language_web_post_send">Sending POST requests</a></li>
</ul>
<br/><br/>

In this section we learn how to deal with GET and POST requests from web applications using the HTTP protocol directly,
without Leonardo. If you want to know how to do it using Leonardo, consult <a id="navlink_language_leonardo">this page</a>.

<a name="language_web_get_receive"/>
<h2>Receiving GET requests</h2>
We start by showing how to receive and handle GET requests.
We introduce a Jolie program that supports the sum of two numbers, <code>x</code> and <code>y</code>, by means of an operation
called <code>sum</code>.
<div id="code" src="web/sum.ol" />
<div id="download"><a href="content/code/web/sum.ol"/></div>
Jolie transparently supports the receiving of GET requests and the automatic parsing of querystrings.
Hence, you can simply execute <code>jolie sum.ol</code> (the download above) and point your browser to:
<div id="link"><a href="http://localhost:8000/sum?x=6&y=2">http://localhost:8000/sum?x=6&amp;y=2</a></div>
Browsing the link above, you should see the result of the sum computed by the Jolie code of our example.

<hr/>

<a name="language_web_get_send"/>
<h2>Sending GET requests</h2>
Suppose now that we want to invoke the Sum service above from inside a Jolie service using a GET request.
We can do it with the following client code:
<div id="code" src="web/sum_client_get.ol" />
<div id="download"><a href="content/code/web/sum_client_get.ol"/></div>
Above, observe that we are using the <code>method</code> parameter for the HTTP protocol for setting our
request method to GET.

<hr/>

<a name="language_web_post_receive"/>
<h2>Receiving POST requests</h2>
Handling POST requests in Jolie is as easy as for GET requests.
Namely, we can simply reuse our code for the sum service, and the Jolie HTTP protocol implementation will automatically
detect POST calls and convert them to normal messages.
Nevertheless, since POST calls are usually sent by browsers through HTML forms, here we are going to see how
to provide one through a simple extension to our sum service. Consider the following modified version:
<div id="code" src="web/sum_form.ol"/>
<div id="download"><a href="content/code/web/sum_form.ol"/></div>
Notice that we are using the <code>format = "html"</code> HTTP parameter for supporting the sending of HTML responses.
We exploit this aspect in the implementation of the operation <code>form</code>, which returns an HTML page
containing a form that targets the <code>sum</code> operation.
Therefore, you can execute the code above and point your browser to:
<div id="link"><a href="http://localhost:8000/form">http://localhost:8000/form</a></div>
and you should see an HTML form where you will be able to insert values for <code>x</code> and <code>y</code>,
submit them to operation <code>sum</code> and get a result back.


<hr/>

<a name="language_web_post_send"/>
<h2>Sending POST requests</h2>
Sending POST requests is similar to sending GET requests, the only difference being a different
setting of the <code>method</code> parameter with respect to the client example that we have seen
in <a href="#language_web_get_send">Sending GET requests</a>.
As an example, consider the following client:
<div id="code" src="web/sum_client_post.ol" />
<div id="download"><a href="content/code/web/sum_client_post.ol"/></div>

</div>